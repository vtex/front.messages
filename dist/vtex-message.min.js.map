{"version":3,"sources":["../build/front-messages-ui/script/vtex-message.js"],"names":["Message","Messages","root","__bind","fn","me","apply","arguments","exports","window","vtex","options","defaultProperties","defaultTemplate","modalDefaultTemplate","this","hide","show","classes","TEMPLATEDEFAULT","MODALTEMPLATEDEFAULT","TEMPLATE","TITLE","SEPARATOR","DETAIL","TYPE","MESSAGEINSTANCE","id","_","uniqueId","timeout","template","modalTemplate","MODALTEMPLATE","prefixClassForType","content","title","detail","close","type","usingModal","usingDefaultTemplate","domElement","$","insertMethod","timer","extend","getTimeoutDefaults","getInstance","modalPlaceholder","Error","addClass","placeholder","clone","data","html","text","prototype","ONE_SECOND","startTimeout","_this","clearTimeout","setTimeout","modalArray","modalQueue","indexOf","one","splice","length","modal","push","trigger","removeClass","Modernizr","csstransforms","csstransitions","opacity","bind","hasClass","VtexMessages","instance","resetDuplicatedMessageTimeout","removeMessage","PLACEHOLDER","MODALPLACEHOLDER","ajaxError","messagesArray","buildPlaceholderTemplate","registerEventListeners","bindAjaxError","getCookie","addMessage","message","messageObj","isMessageDuplicated","on","append","messageId","currentMessage","i","_i","remove","changeContainerVisibility","each","substr","removeAllMessages","notModalMessages","filter","document","event","xhr","ajaxOptions","thrownError","addIframeLater","errorMessage","globalClose","globalError","globalUnknownError","iframe","isContentJson","_ref","_ref1","status","readyState","i18n","t","getResponseHeader","decodeURIComponent","responseText","error","createElement","src","css","evt","name","cookie","cookieValue","cookies","split","replace","substring","call"],"mappings":";;CAAA,WACE,GAAIA,GAASC,EAAUC,EACrBC,EAAS,SAASC,EAAIC,GAAK,MAAO,YAAY,MAAOD,GAAGE,MAAMD,EAAIE,YAEpEL,GAA0B,mBAAZM,UAAuC,OAAZA,QAAmBA,QAAUC,OAEtEA,OAAOC,KAAOD,OAAOC,SASrBV,EAAU,WACR,QAASA,GAAQW,GACf,GAAIC,GAAmBC,EAAiBC,CAyCxC,IAxCe,MAAXH,IACFA,MAEFI,KAAKC,KAAOb,EAAOY,KAAKC,KAAMD,MAC9BA,KAAKE,KAAOd,EAAOY,KAAKE,KAAMF,MAC9BA,KAAKG,SACHC,gBAAiB,qEACjBC,qBAAsB,iFACtBC,SAAU,gCACVC,MAAO,6BACPC,UAAW,iCACXC,OAAQ,8BACRC,KAAM,4BACNC,gBAAiB,gCAEnBd,GACEe,GAAIC,EAAEC,SAAS,uBACfC,QAAS,IACTC,SAAUhB,KAAKG,QAAQG,SACvBW,cAAejB,KAAKG,QAAQe,cAC5BC,mBAAoBnB,KAAKG,QAAQO,KACjCU,SACEC,MAAO,GACPC,OAAQ,IAEVC,MAAO,QACPC,KAAM,OACNC,YAAY,EACZC,sBAAsB,EACtBC,WAAYC,IACZC,aAAc,SACdC,MAAO,MAETjB,EAAEkB,OAAO/B,KAAMH,EAAmBD,GAChB,UAAdI,KAAKwB,OACPxB,KAAKyB,YAAa,GAEpBzB,KAAKe,QAAUf,KAAKgC,mBAAmBpC,GACvCG,EAAuB,6XAAiZC,KAAKuB,MAAQ,8BACrbzB,EAAkB,0NACdE,KAAKyB,WAAY,CACnB,IAAKG,EAAEjC,KAAKT,SAAS+C,cAAcC,kBAAkB,GACnD,KAAM,IAAIC,OAAM,8CAElB,IAAInC,KAAKiB,gBAAkBjB,KAAKG,QAAQe,cACtClB,KAAKiB,cAAgBlB,EACrBC,KAAK0B,sBAAuB,MACvB,CACL,IAAKE,EAAE5B,KAAKiB,eAAe,GACzB,KAAM,IAAIkB,OAAM,qDAElBnC,MAAK0B,sBAAuB,EAE9B1B,KAAK2B,WAAaC,EAAE5B,KAAKiB,eACzBW,EAAE5B,KAAK2B,YAAYS,SAASpC,KAAKY,GAAK,IAAMZ,KAAKG,QAAQQ,gBAAkB,IAAMX,KAAKG,QAAQO,KAAOV,KAAKwB,MAE5G,IAAKxB,KAAKyB,WAAY,CACpB,IAAKG,EAAEjC,KAAKT,SAAS+C,cAAcI,aAAa,GAC9C,KAAM,IAAIF,OAAM,wCAElB,IAAInC,KAAKgB,WAAahB,KAAKG,QAAQG,SACjCN,KAAKgB,SAAWlB,EAChBE,KAAK0B,sBAAuB,MACvB,CACL,IAAKE,EAAE5B,KAAKgB,UAAU,GACpB,KAAM,IAAImB,OAAM,+CAElBnC,MAAK0B,sBAAuB,EAE9B1B,KAAK2B,WAAaC,EAAE5B,KAAKgB,UAAUsB,OAAM,GAAO,GAChDV,EAAE5B,KAAK2B,YAAYS,SAASpC,KAAKY,GAAK,IAAMZ,KAAKG,QAAQQ,gBAAkB,IAAMX,KAAKG,QAAQO,KAAOV,KAAKwB,MAE5GI,EAAE5B,KAAK2B,YAAYY,KAAK,eAAgBvC,MACpCA,KAAKoB,QAAQoB,MACXxC,KAAKoB,QAAQC,OAAgC,KAAvBrB,KAAKoB,QAAQC,MACrCO,EAAE5B,KAAKG,QAAQI,MAAOP,KAAK2B,YAAYa,KAAKxC,KAAKoB,QAAQC,OAEzDO,EAAE5B,KAAKG,QAAQI,MAAOP,KAAK2B,YAAY1B,OAEzC2B,EAAE5B,KAAKG,QAAQM,OAAQT,KAAK2B,YAAYa,KAAKxC,KAAKoB,QAAQE,UAEtDtB,KAAKoB,QAAQC,OAAgC,KAAvBrB,KAAKoB,QAAQC,MACrCO,EAAE5B,KAAKG,QAAQI,MAAOP,KAAK2B,YAAYc,KAAKzC,KAAKoB,QAAQC,OAEzDO,EAAE5B,KAAKG,QAAQI,MAAOP,KAAK2B,YAAY1B,OAEzC2B,EAAE5B,KAAKG,QAAQM,OAAQT,KAAK2B,YAAYc,KAAKzC,KAAKoB,QAAQE,SAEtDtB,KAAKoB,QAAQC,OAAgC,KAAvBrB,KAAKoB,QAAQC,OAAmBrB,KAAKoB,QAAQE,QAAkC,KAAxBtB,KAAKoB,QAAQE,QAC9FM,EAAE5B,KAAKG,QAAQK,UAAWR,KAAK2B,YAAY1B,OAuH/C,MA3GAhB,GAAQyD,UAAUV,mBAAqB,SAASpC,GAC9C,GAAI+C,GAAY5B,CAEhB,IADA4B,EAAa,IACU,MAAnB/C,EAAQmB,QACVA,EAAUnB,EAAQmB,YAElB,QAAQf,KAAKwB,MACX,IAAK,UACHT,EAAU,GAAK4B,CACf,MACF,KAAK,OACH5B,EAAU,GAAK4B,CACf,MACF,KAAK,UACH5B,EAAU,GAAK4B,CACf,MACF,KAAK,QACH5B,EAAU,GAAK4B,CACf,MACF,KAAK,SACH5B,EAAU,GAAK4B,CACf,MACF,SACE5B,EAAU,GAAK4B,EAGrB,MAAK3C,MAAKyB,WAGD,EAFAV,GAMX9B,EAAQyD,UAAUE,aAAe,WAC/B,GAAIC,GAAQ7C,IACZ,KAAKA,KAAKyB,WAIR,MAHIzB,MAAK8B,OACPgB,aAAa9C,KAAK8B,OAEb9B,KAAK8B,MAAQpC,OAAOqD,WAAW,WACpC,MAAOF,GAAM5C,QACZD,KAAKe,UAWZ9B,EAAQyD,UAAUxC,KAAO,WACvB,GAAI8C,GACFH,EAAQ7C,IAmBV,IAlBIA,KAAKyB,aACPuB,EAAarD,KAAKT,SAAS+C,cAAcgB,YACJ,IAAjCpC,EAAEqC,QAAQF,EAAYhD,QACxB4B,EAAE5B,KAAK2B,YAAYwB,IAAI,SAAU,WAG/B,GAFAN,EAAM5C,OACN+C,EAAWI,OAAO,EAAG,GACK,IAAtBJ,EAAWK,OACb,MAAOzB,GAAEoB,EAAW,GAAGrB,YAAY2B,MAAM,UAGnB,IAAtBN,EAAWK,QACbzB,EAAE5B,KAAK2B,YAAY2B,MAAM,SAEO,IAA9BN,EAAWE,QAAQlD,OACrBgD,EAAWO,KAAKvD,SAIjBA,KAAKyB,aACRzB,KAAK2B,WAAWS,SAAS,uCACJ,MAAhBpC,KAAKe,SAAqC,IAAjBf,KAAKe,SACjC,MAAOf,MAAK4C,gBAYlB3D,EAAQyD,UAAUzC,KAAO,WACvB,GAAI4C,GAAQ7C,IAIZ,IAHIA,KAAKyB,YACPG,EAAElC,QAAQ8D,QAAQ,qBAAsBxD,KAAKY,KAE1CZ,KAAKyB,WAER,MADAzB,MAAK2B,WAAW8B,YAAY,uCACF,mBAAdC,YAA2C,OAAdA,WAAuBA,UAAUC,eAAiBD,UAAUE,gBAAkBF,UAAUG,QACxH7D,KAAK2B,WAAWmC,KAAK,mEAAoE,WAC9F,IAAKjB,EAAMlB,WAAWoC,SAAS,uCAC7B,MAAOnC,GAAElC,QAAQ8D,QAAQ,qBAAsBX,EAAMjC,MAIlDgB,EAAElC,QAAQ8D,QAAQ,qBAAsBxD,KAAKY,KAKnD3B,KAYTC,EAAW,WAGT,QAASA,MAFT,GAAI8E,GAAcC,CAyUlB,OArUAA,GAAW,KAEX/E,EAAS+C,YAAc,SAASrC,GAI9B,MAHe,OAAXA,IACFA,MAEiB,MAAZqE,EAAmBA,EAAWA,EAAW,GAAID,GAAapE,IAGnEoE,EAAe,WASb,QAASA,GAAapE,GACpB,GAAIC,EACW,OAAXD,IACFA,MAEFI,KAAKkE,8BAAgC9E,EAAOY,KAAKkE,8BAA+BlE,MAChFA,KAAKmE,cAAgB/E,EAAOY,KAAKmE,cAAenE,MAChDA,KAAKG,SACHiE,YAAa,mCACbC,iBAAkB,QAEpBxE,GACEyE,WAAW,EACXC,iBACAlC,YAAarC,KAAKG,QAAQiE,YAC1BlC,iBAAkBlC,KAAKG,QAAQkE,iBAC/BpB,eAEFpC,EAAEkB,OAAO/B,KAAMH,EAAmBD,GAClCI,KAAKwE,2BACLxE,KAAKyE,yBACDzE,KAAKsE,WACPtE,KAAK0E,gBAxBT,GAAIC,EAiTJ,OA7QAX,GAAatB,UAAUkC,WAAa,SAASC,GAC3C,GAAIC,EAGJ,OADAA,GAAa,GAAI7F,GAAQ4F,GACpB7E,KAAK+E,oBAAoBD,GAcI,IAAvBA,EAAW/D,SAAkB+D,EAAWrD,eAA5C,GACEzB,KAAKkE,8BAA8BY,IAd1C9E,KAAKuE,cAAchB,KAAKuB,GACpBA,EAAWrD,YACbG,EAAEkD,EAAWnD,YAAYqD,GAAG,SAAU,WACpC,MAAOpD,GAAElC,QAAQ8D,QAAQ,qBAAsBsB,EAAWlE,MAE5DgB,EAAE5B,KAAKkC,kBAAkB+C,OAAOH,EAAWnD,cAE3CC,EAAE5B,KAAKqC,aAAayC,EAAWjD,cAAciD,EAAWnD,YACnDC,EAAEjC,KAAKT,SAAS+C,cAAcI,aAAa0B,SAAS,2CACvDnC,EAAEjC,KAAKT,SAAS+C,cAAcI,aAAaD,SAAS,2CAGjD0C,EAAW5E,SActB8D,EAAatB,UAAUyB,cAAgB,SAASe,GAC9C,GAAIC,GAAgBC,EAAGC,CACvB,KAAKD,EAAIC,EAAYrF,KAAKuE,cAAclB,OAAS,EAAGgC,GAAM,EAAGD,EAAIC,IAAO,EACtEF,EAAiBnF,KAAKuE,cAAca,GAChCD,EAAevE,KAAOsE,IACxBlF,KAAKuE,cAAcnB,OAAOgC,EAAG,GACxBD,EAAe1D,YAGlB0D,EAAexD,WAAW2B,MAAM,QAC5B6B,EAAezD,sBACjByD,EAAexD,WAAW2D,UAJ5BH,EAAexD,WAAW2D,SAShC,OAAOtF,MAAKuF,6BAWdvB,EAAatB,UAAUwB,8BAAgC,SAASY,GAE9D,MAAOjE,GAAE2E,KAAKxF,KAAKuE,cAAe,SAASM,GACzC,GAAKA,EAAQzD,QAAQC,QAAUyD,EAAW1D,QAAQC,OAAWwD,EAAQzD,QAAQE,SAAWwD,EAAW1D,QAAQE,QAAYuD,EAAQpD,aAAeqD,EAAWrD,YAAgBoD,EAAQrD,OAASsD,EAAWtD,KACnM,MAAOqD,GAAQjC,kBAarBoB,EAAatB,UAAUqC,oBAAsB,SAASD,GACpD,GAAIC,EAcJ,OAZAA,IAAsB,EACtBlE,EAAE2E,KAAKxF,KAAKuE,cAAe,SAASM,GAClC,GAAKA,EAAQzD,QAAQC,QAAUyD,EAAW1D,QAAQC,OAAWwD,EAAQzD,QAAQE,SAAWwD,EAAW1D,QAAQE,QAAYuD,EAAQpD,aAAeqD,EAAWrD,YAAgBoD,EAAQrD,OAASsD,EAAWtD,KAAO,CAC1M,GAAoC,wBAAhCsD,EAAWlE,GAAG6E,OAAO,EAAG,IAC1B,MAAOV,IAAsB,CACxB,IAAIF,EAAQjE,KAAOkE,EAAWlE,GACnC,MAAOmE,IAAsB,CACxB,IAAIF,EAAQjE,KAAOkE,EAAWlE,GACnC,MAAOmE,IAAsB,KAI5BA,GAWTf,EAAatB,UAAUgD,kBAAoB,SAASjE,GAClD,GAAI2D,GAAGP,EAASQ,CAIhB,KAHkB,MAAd5D,IACFA,GAAa,GAEV2D,EAAIC,EAAYrF,KAAKuE,cAAclB,OAAS,EAAGgC,GAAM,EAAGD,EAAIC,IAAO,EACtER,EAAU7E,KAAKuE,cAAca,IACD,IAAvBP,EAAQpD,aAAyC,IAAfA,IACrCoD,EAAQlD,WAAW2D,SACnBtF,KAAKuE,cAAcnB,OAAOgC,EAAG,GAGjC,OAAOpF,MAAKuF,6BAWdvB,EAAatB,UAAU6C,0BAA4B,WACjD,GAAII,EAKJ,IAHAA,EAAmB9E,EAAE+E,OAAO5F,KAAKuE,cAAe,SAASM,GACvD,OAA8B,IAAvBA,EAAQpD,aAEgB,IAA5BkE,EAAiBtC,QAAiBzB,EAAEjC,KAAKT,SAAS+C,cAAcI,aAAa0B,SAAS,0CACzF,MAAOnC,GAAEjC,KAAKT,SAAS+C,cAAcI,aAAaoB,YAAY,2CAWlEO,EAAatB,UAAUgC,cAAgB,WACrC,GAAI7B,GAAQ7C,IACZ,OAAO4B,GAAEiE,UAAUvB,UAAU,SAASwB,EAAOC,EAAKC,EAAaC,GAC7D,GAAIC,GAAgBC,EAAcC,EAAaC,EAAaC,EAAoBC,EAAQC,EAAe1B,EAA2B2B,EAAMC,CACxI,IAAmB,MAAfX,EAAIY,QAAiC,MAAfZ,EAAIY,QAGP,IAAnBZ,EAAIa,YAAmC,IAAfb,EAAIY,OA0ChC,MAvCAL,GAAqB5G,OAAOmH,KAAOnH,OAAOmH,KAAKC,EAAE,sBAAwB,+BACzET,EAAc3G,OAAOmH,KAAOnH,OAAOmH,KAAKC,EAAE,gBAAkB,QAC5DV,EAAc1G,OAAOmH,KAAOnH,OAAOmH,KAAKC,EAAE,gBAAkB,QACxDf,EAAIgB,kBAAkB,yBACxBV,GAAe,6DACfA,GAAe,mCACfA,GAAeW,mBAAmBjB,EAAIgB,kBAAkB,wBACxDV,GAAe,UACfA,GAAe,aAEbN,EAAIgB,kBAAkB,yBACxBP,GAA0H,KAAvD,OAAjDC,EAAOV,EAAIgB,kBAAkB,iBAA2BN,EAAKvD,QAAQ,wBAAsB,IACzGsD,GAAyF,OAAlC,OAAnCE,EAAQX,EAAIkB,aAAaC,OAAiBR,EAAM7B,YAAU,IAChFsB,EAAea,mBAAmBjB,EAAIkB,aAAaC,MAAMrC,UAEzDsB,EAAea,mBAAmBjB,EAAIgB,kBAAkB,yBACT,YAA/BpC,EAAU,mBAExBwB,GAAgB,oQAChBI,EAASV,SAASsB,cAAc,UAChCZ,EAAOa,IAAM,gCAAkCJ,mBAAmBjB,EAAIkB,cACtErF,EAAE2E,GAAQc,IAAI,QAAS,QACvBzF,EAAE2E,GAAQc,IAAI,SAAU,SACxBnB,GAAiB,KAIrBC,EAAeG,EAEjBxB,GACEtD,KAAM,QACNJ,SACEC,MAAOgF,EACP/E,OAAQ6E,EACR3D,MAAM,GAERjB,MAAO6E,GAETvD,EAAM+B,WAAWE,GACboB,GACFtE,EAAE,sBAAsBY,KAAK+D,GACtBL,EAAiB,UAF1B,MAeJlC,EAAatB,UAAU8B,yBAA2B,WAChD,MAAO5C,GAAE,oCAAoCqD,OAAO,kmBAWtDjB,EAAatB,UAAU+B,uBAAyB,WAC9C,GAAI5B,GAAQ7C,IACZ,IAAIN,OAaF,MAZAkC,GAAElC,QAAQsF,GAAG,kBAAmB,SAASsC,EAAKzC,GAC5C,MAAOhC,GAAM+B,WAAWC,KAE1BjD,EAAElC,QAAQsF,GAAG,qBAAsB,SAASsC,EAAKpC,GAC/C,MAAOrC,GAAMsB,cAAce,KAE7BtD,EAAElC,QAAQsF,GAAG,yBAA0B,SAASsC,EAAK7F,GAInD,MAHkB,OAAdA,IACFA,GAAa,GAERoB,EAAM6C,kBAAkBjE,KAE1BG,EAAE,kCAAkCoD,GAAG,QAAS,SAASsC,EAAK7F,GAInE,MAHkB,OAAdA,IACFA,GAAa,GAERoB,EAAM6C,kBAAkBjE,MAcrCkD,EAAY,SAAS4C,GACnB,GAAIC,GAAQC,EAAaC,EAAStC,CAElC,IADAqC,EAAc,KACV5B,SAAS2B,QAA8B,KAApB3B,SAAS2B,OAG9B,IAFAE,EAAU7B,SAAS2B,OAAOG,MAAM,KAChCvC,EAAI,EACGA,EAAIsC,EAAQrE,QAAQ,CAEzB,GADAmE,GAAUE,EAAQtC,IAAM,IAAIwC,QAAQ,aAAc,IAC9CJ,EAAOK,UAAU,EAAGN,EAAKlE,OAAS,KAAQkE,EAAO,IAAM,CACzDE,EAAcT,mBAAmBQ,EAAOK,UAAUN,EAAKlE,OAAS,GAChE,OAEF+B,IAGJ,MAAOqC,IAGFzD,KAIF9E,GAEN4I,KAAK9H,MAERb,EAAKQ,KAAKT,SAAWA,IAEpB4I,KAAK9H","file":"vtex-message.min.js"}